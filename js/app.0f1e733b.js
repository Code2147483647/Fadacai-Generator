(function(t){function n(n){for(var s,o,i=n[0],c=n[1],u=n[2],d=0,f=[];d<i.length;d++)o=i[d],r[o]&&f.push(r[o][0]),r[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(n);while(f.length)f.shift()();return a.push.apply(a,u||[]),e()}function e(){for(var t,n=0;n<a.length;n++){for(var e=a[n],s=!0,i=1;i<e.length;i++){var c=e[i];0!==r[c]&&(s=!1)}s&&(a.splice(n--,1),t=o(o.s=e[0]))}return t}var s={},r={app:0},a=[];function o(n){if(s[n])return s[n].exports;var e=s[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=s,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var s in t)o.d(e,s,function(n){return t[n]}.bind(null,s));return e},o.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=n,i=i.slice();for(var u=0;u<i.length;u++)n(i[u]);var l=c;a.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"034f":function(t,n,e){"use strict";var s=e("64a9"),r=e.n(s);r.a},"56d7":function(t,n,e){"use strict";e.r(n);e("cadf"),e("551c"),e("f751"),e("097d");var s=e("2b0e"),r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("div",{attrs:{id:"bg"}},[e("css-doodle",[t._v("\n      :doodle { @grid: 5/ 100vw 100vh; background: transparent; }\n      background-image: url(./img/m0@pick(1, 2, 3, 4).png);\n      background-size:contain; background-repeat:no-repeat; position:\n      absolute; @size: 10em; @place-cell: @rand(0, 20)% -20vh; left:\n      @rand(-100, 100)%; animation: move 5s linear @rand(0, 7)s infinite;\n      @keyframes move { 0% { transform: translateX( @rand(-10,-10)vw )\n      translateY(0vh) rotate(@rand(0, 72)deg); } 25% { transform: translateX(\n      @rand(-10,-10)vw ) translateY(35vh) rotate(@rand(73, 144)deg); } 50% {\n      transform: translateX( @rand(-10,-10)vw ) translateY(70vh)\n      rotate(@rand(145, 216)deg); } 75% { transform: translateX(\n      @rand(-10,-10)vw ) translateY(105vh) rotate(@rand(217, 288)deg); }\n      99.99% { transform: translateX( @rand(-10,-10)vw ) translateY(140vh)\n      rotate(@rand(289, 360)deg); } 100% { transform: translateX(\n      @rand(-10,-10)vw ) translateY(0vh) rotate(0deg); } }\n    ")])],1),e("router-view"),e("div",{staticClass:"text-center"},[e("gh-btns-watch",{attrs:{slug:"rogeraabbccdd/Fadacai-Generator","show-count":""}}),e("gh-btns-star",{attrs:{slug:"rogeraabbccdd/Fadacai-Generator","show-count":""}}),e("gh-btns-fork",{attrs:{slug:"rogeraabbccdd/Fadacai-Generator","show-count":""}})],1)],1)},a=[],o=(e("1054"),e("3a06"),{}),i=o,c=(e("034f"),e("2877")),u=Object(c["a"])(i,r,a,!1,null,null,null),l=u.exports,d=e("8c4f"),f=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[t._m(0),e("div",{staticClass:"col-12 mb-3"},[e("playquery",{attrs:{sounds:t.sounds,query:t.query,sids:t.sids}})],1),e("hr"),e("div",{staticClass:"col-12 my-3"},[e("soundbtns",{attrs:{sounds:t.sounds}})],1)])])},h=[function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"col-12"},[s("img",{staticClass:"w-100",attrs:{src:e("6104"),id:"title"}})])}],v=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-card",{attrs:{title:"已排序聲音","sub-title":"點按按鈕可以移除聲音，拖曳按鈕可以排序聲音"}},[e("hr"),e("p",{directives:[{name:"show",rawName:"v-show",value:0==t.snds.length,expression:"snds.length == 0"}],staticStyle:{color:"#ccc"}},[t._v("請先在下方選擇音檔")]),e("draggable",t._b({on:{start:function(n){t.dragging=!0},end:function(n){t.dragging=!1}},model:{value:t.snds,callback:function(n){t.snds=n},expression:"snds"}},"draggable",t.dragOptions,!1),[e("transition-group",t._l(t.snds,function(n,s){return e("b-button",{key:s+0,staticClass:"m-1 snds",attrs:{variant:"success"},on:{click:function(n){return t.remove(s)}}},[t._v(t._s(n.name))])}),1)],1),e("hr"),e("b-button",{ref:"btnPlay",staticClass:"m-1",attrs:{variant:"primary"},on:{click:function(n){return t.play()}}},[e("font-awesome-icon",{attrs:{icon:"play"}}),t._v(" 播放\n  ")],1),e("b-button",{ref:"btnStop",staticClass:"m-1",attrs:{variant:"warning"},on:{click:function(n){return t.stop()}}},[e("font-awesome-icon",{attrs:{icon:"stop"}}),t._v(" 停止\n  ")],1),e("b-button",{staticClass:"m-1",attrs:{variant:"danger"},on:{click:function(n){return t.removeAll()}}},[e("font-awesome-icon",{attrs:{icon:["far","trash-alt"]}}),t._v(" 清空\n  ")],1),e("b-button",{staticClass:"m-1",attrs:{variant:"success"},on:{click:function(n){return t.getUrl()}}},[e("font-awesome-icon",{attrs:{icon:"link"}}),t._v(" 匯出\n  ")],1),e("b-button",{staticClass:"m-1",attrs:{variant:"info"},on:{click:function(n){return t.downloadFile()}}},[e("font-awesome-icon",{attrs:{icon:"download"}}),t._v(" 下載\n  ")],1),e("b-button",{staticClass:"m-1",attrs:{variant:"facebook"},on:{click:function(n){return t.shareFacebook()}}},[e("font-awesome-icon",{attrs:{icon:["fab","facebook-f"]}}),t._v(" 分享\n  ")],1)],1)},p=[],b=(e("28a5"),e("7f7f"),e("75fc")),m=e("32f0"),g=e.n(m),w=e("1980"),y=e.n(w),k=-1,_=!1,C={name:"query",components:{draggable:y.a},props:{sounds:Array,query:String,sids:String},data:function(){var t=[];return{snds:t}},methods:{open:function(t,n){n.preventDefault()},play:function(){var t=this;if(this.snds.length>0){_=!0,k=0,this.$refs.btnPlay.setAttribute("disabled","true");for(var n=this.$el.querySelectorAll(".snds"),e=1;e<n.length;e++)n[e].classList.remove("btn-success"),n[e].classList.add("btn-outline-success");var s=new Audio(this.snds[k].file);s.play(),s.onended=function(){if(_)if(n[k].classList.remove("btn-success"),n[k].classList.add("btn-outline-success"),k++,k<t.snds.length&&_)s.src=t.snds[k].file,s.play(),n[k].classList.add("btn-success"),n[k].classList.remove("btn-outline-success");else{k=-1,_=!1,t.$refs.btnPlay.removeAttribute("disabled");for(var e=0;e<n.length;e++)n[e].classList.add("btn-success"),n[e].classList.remove("btn-outline-success")}}}},stop:function(){var t=this.$el.querySelectorAll(".snds");t=this.$el.querySelectorAll(".snds"),k=-1,_=!1,this.$refs.btnPlay.removeAttribute("disabled");for(var n=0;n<t.length;n++)t[n].classList.add("btn-success"),t[n].classList.remove("btn-outline-success")},getUrl:function(){for(var t="",n=0;n<this.snds.length;n++)t=t+this.snds[n].id+",";t=t.substr(0,t.length-1),this.$router.push({name:"home",query:{sids:t}}),alert("匯出成功，可使用目前網址分享你的創作")},downloadFile:function(){var t=this.snds.map(function(t){return t.file}),n=new g.a;n.fetchAudio.apply(n,Object(b["a"])(t)).then(function(t){return n.concatAudio(t)}).then(function(t){return n.export(t,"audio/mp3")}).then(function(t){return n.download(t.blob,"fadacai")}).catch(function(t){throw new Error(t)})},remove:function(t){_||this.snds.splice(t,1)},removeAll:function(){this.snds=[]},shareFacebook:function(){for(var t="",n=0;n<this.snds.length;n++)t=t+this.snds[n].id+",";t=t.substr(0,t.length-1),this.$router.push({name:"home",query:{sids:t}}),window.open("http://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(window.location.href))}},mounted:function(){var t=this;tt.$on("addSound",function(n){if(!_){for(var e=-1,s=0;s<t.sounds.length;s++)if(n==t.sounds[s].id){e=s;break}e>-1&&t.snds.push({file:t.sounds[e].file,name:t.sounds[e].name,id:t.sounds[e].id})}})},computed:{dragOptions:function(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}},watch:{sounds:function(t){if(void 0!=this.sids&&this.sids.length>0){var n=this.sids.split(",");if(n.length>0)for(var e=0;e<n.length;e++){for(var s=-1,r=0;r<t.length;r++){var a=t[r].id;if(a==n[e]){s=r;break}}s>-1&&this.snds.push({file:t[s].file,name:t[s].name,id:t[s].id})}}else if(void 0!=this.query&&this.query.length>0){var o=this.query.split(",");if(o.length>0)for(var i=0;i<o.length;i++){for(var c=-1,u=0;i<t.length;u++){var l=t[u].name;if(l==o[i]){c=u;break}}c>-1&&this.snds.push({file:t[c].file,name:t[c].name,id:t[c].id})}}}}},$=C,q=(e("d418"),Object(c["a"])($,v,p,!1,null,null,null)),O=q.exports,A=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-card",{attrs:{title:"所有聲音","sub-title":""}},[e("hr"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 my-2"},[e("b-form-input",{attrs:{placeholder:"搜索聲音..."},model:{value:t.search,callback:function(n){t.search=n},expression:"search"}})],1),e("div",{staticClass:"col-12 my-2"},t._l(this.filtered,function(n,s){return e("b-button",{key:s,staticClass:"m-1",attrs:{variant:"success"},on:{click:function(e){return t.add(n.id)}}},[t._v(t._s(n.name))])}),1)])])},j=[],x=(e("386d"),e("6762"),e("2fdb"),{name:"sounds",props:{sounds:Array},data:function(){var t="";return{search:t}},methods:{add:function(t){tt.$emit("addSound",t)}},computed:{filtered:function(){var t=this;return this.sounds.filter(function(n){return n.name.includes(t.search)})}}}),S=x,L=Object(c["a"])(S,A,j,!1,null,null,null),P=L.exports,F="soundList.json",E={name:"home",components:{playquery:O,soundbtns:P},data:function(){var t=this.$route.query.sounds,n=this.$route.query.sids,e=[],s=0;return{query:t,sounds:e,sids:n,loadProgress:s}},created:function(){var t=this;this.$http.get(F).then(function(n){t.sounds=n.data.sounds})}},X=E,Y=Object(c["a"])(X,f,h,!1,null,null,null),M=Y.exports;s["default"].use(d["a"]);var N=new d["a"]({routes:[{path:"/*",name:"home",component:M}]}),T=e("9483");Object(T["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var U=e("9f7b"),G=e.n(U),z=(e("f9e3"),e("2dd8"),e("bc3a")),B=e.n(z),J=e("a7fe"),D=e.n(J),I=e("f676"),R=e("ad3d"),H=e("ecee"),K=e("c074"),Q=e("b702"),V=e("f2d1"),W=e("0284"),Z=e.n(W);e.d(n,"eventBus",function(){return tt}),s["default"].use(G.a),s["default"].use(D.a,B.a),s["default"].use(I["a"],{useCache:!0}),H["c"].add(K["c"],K["d"],K["b"],K["a"],Q["a"],V["a"]),s["default"].component("font-awesome-icon",R["a"]),s["default"].use(Z.a,{id:"UA-131804412-7",router:N,autoTracking:{pageviewOnLoad:!1}}),s["default"].config.productionTip=!1;var tt=new s["default"];new s["default"]({router:N,render:function(t){return t(l)}}).$mount("#app")},6104:function(t,n,e){t.exports=e.p+"img/title.a0f22ec8.png"},"64a9":function(t,n,e){},af13:function(t,n,e){},d418:function(t,n,e){"use strict";var s=e("af13"),r=e.n(s);r.a}});
//# sourceMappingURL=app.0f1e733b.js.map